{"version":3,"file":"static/webpack/static/development/pages/tour/[slug].js.864488ae81e1167a31d8.hot-update.js","sources":["webpack:///./components/tour/Map.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\n// pk.eyJ1IjoiZGV2N2M0IiwiYSI6ImNrNnpxenl5eTB2bHczZW15MzBhM3dyODYifQ.Y7JGKPXPwGMFuSQSyQaZaw\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoiZGV2N2M0IiwiYSI6ImNrNnpxenl5eTB2bHczZW15MzBhM3dyODYifQ.Y7JGKPXPwGMFuSQSyQaZaw\";\n\nconst geojson = {\n  type: \"FeatureCollection\",\n  features: [\n    {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [-112.987418, 37.198125]\n      },\n      properties: {\n        description: \"Zion Canyon National Park\"\n      }\n    },\n    {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [-111.376161, 36.86438]\n      },\n      properties: {\n        description: \"Antelope Canyon\"\n      }\n    },\n    {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [-112.115763, 36.058973]\n      },\n      properties: {\n        description: \"Grand Canyon National Park\"\n      }\n    },\n    {\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [-116.107963, 34.011646]\n      },\n      properties: {\n        description: \"Joshua Tree National Park\"\n      }\n    }\n  ]\n};\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lng: 5,\n      lat: 34,\n      zoom: 2\n    };\n  }\n\n  componentDidMount() {\n    const map = new mapboxgl.Map({\n      container: this.mapContainer,\n      scrollZoom: false,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom\n    });\n\n    map.on(\"move\", () => {\n      this.setState({\n        lng: map.getCenter().lng.toFixed(4),\n        lat: map.getCenter().lat.toFixed(4),\n        zoom: map.getZoom().toFixed(2)\n      });\n    });\n\n    const bounds = new mapboxgl.LngLatBounds();\n\n    geojson.features.forEach(function(marker) {\n      var el = document.createElement(\"div\");\n      el.className = \"marker\";\n\n      new mapboxgl.Marker({\n        element: el,\n        anchor: \"bottom\"\n      })\n        .setLngLat(marker.geometry.coordinates)\n        .addTo(map);\n\n      new mapboxgl.Popup({\n        offset: 30,\n        closeOnClick: false\n      })\n        .setLngLat(marker.geometry.coordinates)\n        .setHTML(\"<p>\" + marker.properties.description + \"</p>\")\n        .addTo(map);\n\n      bounds.extend(marker.geometry.coordinates);\n    });\n\n    map.fitBounds(bounds, {\n      padding: {\n        top: 200,\n        bottom: 150,\n        left: 50,\n        right: 50\n      }\n    });\n\n    map.on(\"load\", function() {\n      map.addLayer({\n        id: \"route\",\n        type: \"line\",\n        source: {\n          type: \"geojson\",\n          data: {\n            type: \"Feature\",\n            properties: {},\n            geometry: {\n              type: \"LineString\",\n              coordinates: [\n                [-112.987418, 37.198125],\n                [-111.376161, 36.86438],\n                [-112.115763, 36.058973],\n                [-116.107963, 34.011646]\n              ]\n            }\n          }\n        },\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\"\n        },\n        paint: {\n          \"line-color\": \"#55c57a\",\n          \"line-opacity\": 0.6,\n          \"line-width\": 3\n        }\n      });\n    });\n  }\n\n  // render() {\n  //   return (\n  //     <div>\n  //       <div\n  //         ref={el => (this.mapContainer = el)}\n  //         className=\"mapContainer\"\n  //         style={{\n  //           position: \"absolute\",\n  //           top: \"0\",\n  //           right: \"0\",\n  //           left: \"0\",\n  //           bottom: \"0\"\n  //         }}\n  //       />\n  //     </div>\n  //   );\n  // }\n\n  render() {\n    return (\n      <div\n        style={{\n          position: \"relative\",\n          height: \"65rem\"\n        }}\n      >\n        <div\n          className=\"sidebarStyle\"\n          style={{\n            display: \"inline-block\",\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            margin: \"12px\",\n            backgroundColor: \"#404040\",\n            color: \"#ffffff\",\n            zIndex: \"1 !important\",\n            padding: \"6px\",\n            fontWeight: \"bold\"\n          }}\n        >\n          <div>\n            Longitude: {this.state.lng} | Latitude: {this.state.lat} | Zoom:{\" \"}\n            {this.state.zoom}\n          </div>\n        </div>\n        <div\n          ref={el => (this.mapContainer = el)}\n          className=\"mapContainer\"\n          style={{\n            position: \"absolute\",\n            top: \"0\",\n            right: \"0\",\n            left: \"0\",\n            bottom: \"0\",\n            width: \"100%\"\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Map;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AANA;AAWA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AANA;AAWA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AANA;AAWA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AANA;AAjCA;AACA;AA6CA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAOA;AACA;AACA;AAFA;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAFA;AAgBA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAHA;AAvBA;AA6BA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;;;;AAzJA;AACA;AA2JA;;;;A","sourceRoot":""}